#include "exploits_tab.h"
#include "imgui.h"

namespace Tabs {

static struct ExploitsSettings {
    struct Weapon {
        float fireRate = 1.0f;
        bool infinityAmmo = false;
    } weapon;
    
    struct Movement {
        bool airJump = false;
        bool moveBeforeTimer = false;
    } movement;
    
    struct Bomb {
        bool getBomb = false;
        bool autoWin = false;
        bool fastPlant = false;
        bool plant = false;
        bool defuse = false;
        bool explose = false;
    } bomb;
    
    struct Host {
        bool isHost = false;
        bool autowin = false;
        bool crashHost = false;
        bool destroyEnemies = false;
        bool destroyTeammates = false;
        bool fastDefuse = false;
        bool fastDetonate = false;
    } host;
    
    struct Premium {
        bool tpv = false;
        bool invisible = false;
        bool chatSpam = false;
        bool autoKill = false;
        bool fastStrafe = false;
        bool crashEnemies = false;
        bool crashTeammates = false;
        bool freezeKill = false;
    } premium;
} s_exploitsSettings;

void RenderExploitsTab() {
    if (ImGui::BeginTabBar("##ExploitsSubTabs")) {
        if (ImGui::BeginTabItem("Weapon")) {
            ImGui::Spacing();
            
            ImGui::Text("Weapon Modifications");
            ImGui::Separator();
            ImGui::Spacing();
            
            ImGui::SliderFloat("Fire Rate", &s_exploitsSettings.weapon.fireRate, 0.1f, 10.0f);
            ImGui::Checkbox("Infinity Ammo", &s_exploitsSettings.weapon.infinityAmmo);
            
            ImGui::EndTabItem();
        }
        
        if (ImGui::BeginTabItem("Movement")) {
            ImGui::Spacing();
            
            ImGui::Text("Movement Exploits");
            ImGui::Separator();
            ImGui::Spacing();
            
            ImGui::Checkbox("Air Jump", &s_exploitsSettings.movement.airJump);
            ImGui::Checkbox("Move Before Timer", &s_exploitsSettings.movement.moveBeforeTimer);
            
            ImGui::EndTabItem();
        }
        
        if (ImGui::BeginTabItem("Bomb")) {
            ImGui::Spacing();
            
            ImGui::Text("Bomb Exploits");
            ImGui::Separator();
            ImGui::Spacing();
            
            ImGui::Checkbox("Get Bomb", &s_exploitsSettings.bomb.getBomb);
            ImGui::Checkbox("Auto Win", &s_exploitsSettings.bomb.autoWin);
            ImGui::Checkbox("Fast Plant", &s_exploitsSettings.bomb.fastPlant);
            
            ImGui::Spacing();
            
            if (ImGui::Button("Plant Bomb", ImVec2(200, 30))) {
                // Placeholder action
            }
            
            if (ImGui::Button("Defuse Bomb", ImVec2(200, 30))) {
                // Placeholder action
            }
            
            if (ImGui::Button("Explode Bomb", ImVec2(200, 30))) {
                // Placeholder action
            }
            
            ImGui::EndTabItem();
        }
        
        if (ImGui::BeginTabItem("Host")) {
            ImGui::Spacing();
            
            if (!s_exploitsSettings.host.isHost) {
                ImGui::TextColored(ImVec4(1.0f, 0.5f, 0.0f, 1.0f), "Warning: You are not the host!");
                ImGui::Text("Host exploits only work when you are hosting the game.");
                ImGui::Spacing();
            }
            
            ImGui::Text("Host Exploits");
            ImGui::Separator();
            ImGui::Spacing();
            
            ImGui::Checkbox("Auto Win", &s_exploitsSettings.host.autowin);
            ImGui::Checkbox("Fast Defuse", &s_exploitsSettings.host.fastDefuse);
            ImGui::Checkbox("Fast Detonate", &s_exploitsSettings.host.fastDetonate);
            
            ImGui::Spacing();
            ImGui::Text("Dangerous");
            ImGui::Separator();
            ImGui::Spacing();
            
            ImGui::PushStyleColor(ImGuiCol_Button, ImVec4(0.8f, 0.2f, 0.2f, 1.0f));
            ImGui::PushStyleColor(ImGuiCol_ButtonHovered, ImVec4(0.9f, 0.3f, 0.3f, 1.0f));
            ImGui::PushStyleColor(ImGuiCol_ButtonActive, ImVec4(0.7f, 0.1f, 0.1f, 1.0f));
            
            if (ImGui::Button("Crash Host", ImVec2(200, 30))) {
                // Placeholder action
            }
            
            if (ImGui::Button("Destroy Enemies", ImVec2(200, 30))) {
                // Placeholder action
            }
            
            if (ImGui::Button("Destroy Teammates", ImVec2(200, 30))) {
                // Placeholder action
            }
            
            ImGui::PopStyleColor(3);
            
            ImGui::EndTabItem();
        }
        
        if (ImGui::BeginTabItem("Premium")) {
            ImGui::Spacing();
            
            ImGui::TextColored(ImVec4(1.0f, 0.84f, 0.0f, 1.0f), "Premium Features");
            ImGui::Separator();
            ImGui::Spacing();
            
            ImGui::Checkbox("Third Person View (TPV)", &s_exploitsSettings.premium.tpv);
            ImGui::Checkbox("Invisible", &s_exploitsSettings.premium.invisible);
            ImGui::Checkbox("Chat Spam", &s_exploitsSettings.premium.chatSpam);
            ImGui::Checkbox("Auto Kill", &s_exploitsSettings.premium.autoKill);
            ImGui::Checkbox("Fast Strafe", &s_exploitsSettings.premium.fastStrafe);
            ImGui::Checkbox("Freeze Kill", &s_exploitsSettings.premium.freezeKill);
            
            ImGui::Spacing();
            ImGui::Text("Crash");
            ImGui::Separator();
            ImGui::Spacing();
            
            ImGui::PushStyleColor(ImGuiCol_Button, ImVec4(0.8f, 0.2f, 0.2f, 1.0f));
            ImGui::PushStyleColor(ImGuiCol_ButtonHovered, ImVec4(0.9f, 0.3f, 0.3f, 1.0f));
            ImGui::PushStyleColor(ImGuiCol_ButtonActive, ImVec4(0.7f, 0.1f, 0.1f, 1.0f));
            
            ImGui::Checkbox("Crash Enemies", &s_exploitsSettings.premium.crashEnemies);
            ImGui::Checkbox("Crash Teammates", &s_exploitsSettings.premium.crashTeammates);
            
            ImGui::PopStyleColor(3);
            
            ImGui::EndTabItem();
        }
        
        ImGui::EndTabBar();
    }
}

}
